// Diamond gate routes based on upstream outcome
digraph Branching {
  graph [goal="Test conditional branching"]
  start   [shape=Mdiamond]
  exit    [shape=Msquare]
  build   [shape=box, prompt="Build the project"]
  gate    [shape=diamond, label="Build OK?"]
  deploy  [shape=box, prompt="Deploy to prod"]
  fix     [shape=box, prompt="Fix build errors"]

  start  -> build -> gate
  gate   -> deploy [label="Pass", condition="outcome=success"]
  gate   -> fix    [label="Fail", condition="outcome!=success"]
  deploy -> exit
  fix    -> exit
}
